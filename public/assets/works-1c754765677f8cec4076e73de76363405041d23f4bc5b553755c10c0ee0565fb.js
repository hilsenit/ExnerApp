(function(){var t,o;o=t=void 0,o=function(){return $(".sortable-item").each(function(t){$(this).attr("data-pos",t+1)})},t=function(){o(),$(".sortable").sortable(),$(".sortable").sortable().bind("sortupdate",function(){var a;a=[],o(),$(".sortable-item").each(function(t){a.push({id:$(this).data("id"),position:t+1,type:$(this).data("type")})}),$.ajax({type:"PUT",url:"/works/sort",data:{order:a}})})},$(document).ready(t)}).call(this);